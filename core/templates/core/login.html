{% load static %}
<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="{% static 'css/normalize.css' %}">
  <link rel="stylesheet" href="{% static 'css/style.css' %}">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
  <link href="https://cdn.jsdelivr.net/npm/remixicon@4.5.0/fonts/remixicon.css" rel="stylesheet"/>
  <title>RetroPlay – Login</title>
</head>
<body>

  <nav class="navbar navbar-expand-lg navbar-dark bg-dark">
    <div class="container" style="margin-bottom: -2rem;">
      <a class="navbar-brand" href="/">
        <img src="{% static 'imgs/logo.png' %}" alt="logo" height="40">
      </a>
      <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
        <span class="navbar-toggler-icon"></span>
      </button>
      <div class="collapse navbar-collapse" id="navbarNav">
        <ul class="navbar-nav ms-auto">
          <li class="nav-item"><a class="nav-link" href="/">Inicio</a></li>
          <li class="nav-item"><a class="nav-link" href="/categorias">Categorías</a></li>
          <li class="nav-item"><a class="nav-link" href="/productos">Productos</a></li>
          <li class="nav-item"><a class="nav-link" href="/registro">Registro</a></li>
          <li class="nav-item"><a class="nav-link active" href="/login">Login</a></li>
          <li class="nav-item"><a class="nav-link" href="/perfil">Perfil</a></li>
        </ul>
        <div class="icon-cart ms-3">
          <i class="ri-shopping-cart-line"></i>
          <span class="cart-item-count"></span>
        </div>
      </div>
    </div>
  </nav>

  <div class="cart">
    <h2 class="cart-title">Carrito</h2>
    <div class="cart-content"></div>
    <div class="total">
      <div class="total-title">Total</div>
      <div class="total-price">$0</div>
    </div>
    <button class="btn-buy">Comprar</button>
    <i class="ri-close-circle-fill" id="cart-close"></i>
  </div>

  <div class="container mt-4">
    <div class="row justify-content-center">
      <div style="display: flex; justify-content: center;">
        <div class="bg-white p-5 rounded-5 text-secondary shadow" style="width: 100%; max-width: 500px;">

          <div class="d-flex justify-content-center">
            <img src="{% static 'imgs/login-icon.png' %}" alt="login-icon" style="height: 7rem">
          </div>
          <div class="text-center fs-1 fw-bold">Iniciar Sesión</div>

          {% if messages %}
            {% for msg in messages %}
              <div class="alert alert-{{ msg.tags }}">{{ msg }}</div>
            {% endfor %}
          {% endif %}

          <form method="post" action="{% url 'login' %}">
            {% csrf_token %}

            <div class="input-group mt-4">
              <div class="input-group-text bg-info">
                <img src="{% static 'imgs/username-icon.png' %}" alt="username-icon" style="height: 1rem">
              </div>
              <input
                class="form-control bg-light"
                type="text"
                name="username"
                placeholder="Username"
                required
              />
            </div>

            <div class="input-group mt-1">
              <div class="input-group-text bg-info">
                <img src="{% static 'imgs/password-icon.png' %}" alt="password-icon" style="height: 1rem">
              </div>
              <input
                class="form-control bg-light"
                type="password"
                name="password"
                placeholder="Password"
                required
              />
            </div>

            <div class="d-flex justify-content-around mt-1">
              <div class="d-flex align-items-center gap-1">
                <input class="form-check-input" type="checkbox" name="remember" />
                <div class="pt-1" style="font-size: 0.9rem">Recuérdame</div>
              </div>
            </div>

            <div>
              <div class="pt-1">
                <a href="#" class="text-decoration-none text-info fw-semibold fst-italic" style="font-size: 0.9rem">
                  ¿Olvidaste tu contraseña?
                </a>
              </div>
            </div>

            <button type="submit" class="btn btn-info text-white w-100 mt-4 fw-semibold shadow-sm">
              Login
            </button>

            <div class="d-flex gap-1 justify-content-center mt-1">
              <div>¿No tienes una cuenta?</div>
              <a href="{% url 'registro' %}" class="text-decoration-none text-info fw-semibold">
                Regístrate
              </a>
            </div>
          </form>

          <div class="p-3">
            <div class="border-bottom text-center" style="height: 0.9rem">
              <span class="bg-white px-3">o</span>
            </div>
          </div>
          <div class="btn d-flex gap-2 justify-content-center border mt-3 shadow-sm">
            <img src="{% static 'imgs/google-icon.png' %}" alt="google-icon" style="height: 1.6rem">
            <div class="fw-semibold text-secondary">Continuar con Google</div>
          </div>

        </div>
      </div>
    </div>
  </div>

  <footer class="mt-4 text-center">
    <p>RetroPlay 2025</p>
  </footer>

  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>
